extends ../layout

block content
	.page-wrapper
		.content
			.d-flex.align-items-center.justify-content-between.flex-wrap.gap-3.mb-4
				.mb-3
					h1.mb-1 Inventory
					p.fw-medium Manage Gold and Silver Stock
				a.btn.btn-primary(href="/inventory/add")
					i.ti.ti-plus.me-2
					| Add Stock

			// Inventory Table
			.card
				.card-header.d-flex.justify-content-between.align-items-center
					h5.card-title.mb-0 Stock List
				.card-body
					if inventory.length === 0
						.alert.alert-info.mb-0
							i.ti.ti-info-circle.me-2
							| No stock items found
					else
						.table-responsive
							table.table.table-hover.table-sm
								thead
									tr
										th Metal
										th Weight
										th Unit
										th Supplier
										th Price (Buy)
										th Rate (Cur)
										th Payment
										th Actions
								tbody
									each item in inventory
										tr
											td
												strong.text-dark= item.productName
											td
												strong= item.quantity.toFixed(3)
											td= item.unit
											td= item.supplier || '-'
											td= '₹' + item.costPrice.toFixed(2)
											td= '₹' + item.sellingPrice.toFixed(2)
											td= item.paymentType || '-'
											td
												a.btn.btn-sm.btn-warning.me-1(href=`/inventory/${item.id}/edit`)
													i.ti.ti-edit
												form.d-inline(action=`/inventory/${item.id}/delete` method="POST" onsubmit="return confirm('Delete this?')")
													button.btn.btn-sm.btn-danger(type="submit")
														i.ti.ti-trash

		.copyright-footer.d-flex.align-items-center.justify-content-between.border-top.bg-white.gap-3.flex-wrap
			p.fs-13.text-gray-9.mb-0 2025-2026 © Jewellery CRM. All Right Reserved
