extends ../layout

block content
	.page-wrapper
		.content
			.d-flex.align-items-center.justify-content-between.flex-wrap.gap-3.mb-4
				.mb-3
					h1.mb-1= title
					p.fw-medium= isEdit ? 'Update inventory item details' : 'Add new inventory item to system'
				a.btn.btn-secondary(href="/inventory")
					i.ti.ti-arrow-left.me-2
					| Back to Inventory

			.row
				.col-lg-8
					.card
						.card-header
							h5.card-title.mb-0= isEdit ? 'Edit Inventory Item' : 'Add New Item'
						.card-body
							form.row.g-3(method="post", action=isEdit ? `/inventory/${item.id}/edit` : "/inventory")
								//- TODO 
								.col-md-6
									label.form-label Product Name
									input.form-control(type="text" name="productName", required, placeholder="e.g., Ring, Chain, etc.", value=item.productName)

								.col-md-6
									label.form-label Category
									input.form-control(type="text" name="category" list="categories" placeholder="Jewellery, Bullion, etc.", value=item.category)
									datalist#categories
										each cat in categories
											option(value=cat)

								.col-md-3
									label.form-label Metal Type
									select.form-control(name="metalType")
										option(value="GOLD", selected=item.metalType === 'GOLD') Gold
										option(value="SILVER", selected=item.metalType === 'SILVER') Silver

								.col-md-6
									label.form-label Cost Price (₹)
									input.form-control(type="number" name="costPrice" step="0.01", required, placeholder="0.00", value=item.costPrice)

								.col-md-6
									label.form-label Selling Price (₹)
									input.form-control(type="number" name="sellingPrice" step="0.01", required, placeholder="0.00", value=item.sellingPrice)

								.col-md-6
									label.form-label Supplier
									select.form-control(name="supplier")
										option(value="") Select Supplier
										each merchant in merchants
											option(value=merchant.name, selected=item.supplier === merchant.name)= merchant.name

								.col-md-6
									label.form-label Payment Type
									select.form-control(name="paymentType")
										option(value="CASH", selected=item.paymentType === 'CASH') Cash
										option(value="RTGS", selected=item.paymentType === 'RTGS') RTGS
										option(value="Cheque", selected=item.paymentType === 'Cheque') Cheque
										option(value="Other", selected=item.paymentType === 'Other') Other

								.col-md-12
									label.form-label Remark
									textarea.form-control(name="description" rows="3" placeholder="Item details...")= item.description

								.col-12
									.d-flex.gap-2
										button.btn.btn-primary(type="submit")
											i.ti.ti-check.me-2
											| #{isEdit ? 'Update Item' : 'Add Item'}
										a.btn.btn-secondary(href="/inventory")
											i.ti.ti-x.me-2
											| Cancel
